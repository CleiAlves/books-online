{% extends "base_generic.html" %}

{% block content %}

<h2 class="text-center mb-3">Cadastre um novo autor</h2>

<form class="row g-3 justify-content-center mb-5" method="post" enctype="multipart/form-data">
    {% csrf_token %}
    <div class="col-3">
        <div class="form-floating mb-3">
            <input type="text" class="form-control" id="nameInput" placeholder="Nome" name="firstName">
            <label for="nameInput">Nome</label>
        </div>
    </div>
    <div class="col-3">
        <div class="form-floating mb-3">
            <input type="text" class="form-control" id="lastNameInput" placeholder="Sobrenome" name="lastName">
            <label for="lastNameInput">Sobrenome</label>
        </div>
    </div>
    <div class="col-3">
        <div class="form-control mb-3">
            <input type="file" class="form-control" id="photoInput" name="photo">
        </div>
    </div>
    <div class="col-10 text-center">
        <button type="submit" class="btn btn-primary">Cadastrar</button>
    </div>
</form>

<hr class="mb-5">

<h3 class="text-center mb-5">Autores Cadastrados:</h3>

<table class="table">
    <thead class="text-center">
      <tr>
        <th scope="col">Foto</th>
        <th scope="col">Nome</th>
        <th scope="col"></th>
      </tr>
    </thead>
    <tbody class="text-center">
        {% for author in authors %}
            <tr class="align-middle">
                {% if author.photo %}
                    <td><img src="{{ author.photo.url }}" alt="Foto do Autor" class="table-img"></td>
                {% else %}
                    <td><img src="https://dummyimage.com/50x50/9e9e9e/030303.png&text=+SEM+FOTO" alt="Sem foto"></td>
                {% endif %}
                <td>{{ author }}</td>
                <td>
                    <div class="d-flex justify-content-center">
                        <a href="#" class="btn btn-primary py-1 px-1 me-1">Editar</a>
                        <a href="#" class="btn btn-danger py-1 px-1 ms-1">Excluir</a>
                    </div>
                </td>
            </tr>
        {% endfor %}
    </tbody>
  </table>
{% endblock content %}